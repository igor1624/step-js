!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,(()=>(()=>{"use strict";var t={621:(t,e,n)=>{n.r(e)},91:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(982)),i=r(n(250)),s=n(33),l=function(){function t(e){this.observedPaths=[],this.disabled=!1,this.virtualElement=null,this.$key=this.constructor.name.toLowerCase()+"-"+t.get$Key(),this.props=e||{},this.callComponentWillMount()}return t.prototype.callComponentWillMount=function(){this.componentWillMount()},t.prototype.componentWillMount=function(){},t.prototype.getState=function(){return this.state},t.prototype.cloneState=function(){return Object.assign({},this.state)},t.prototype.setState=function(t){this.state=t,this.forceUpdate()},t.prototype.setDisabled=function(t){this.disabled=t;var e=this.getHTMLElement();e&&(this.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled"))},t.prototype.createVirtualElement=function(){var t=this,e=this.render();return Array.isArray(e)?(this.virtualElement=new o.default(void 0),e.forEach((function(e){var n;null===(n=t.virtualElement)||void 0===n||n.add(e)}))):(this.virtualElement=e,this.virtualElement&&(this.virtualElement.createdBy=this)),this.virtualElement},t.prototype.render=function(){return new o.default(this,"div")},t.prototype.callComponentDidMount=function(){this.mountObservedShelves(),this.componentDidMount()},t.prototype.mountObservedShelves=function(){var t=this;this.observedPaths&&this.observedPaths.forEach((function(e){e.store.startObservingPath(t,e.path)}))},t.prototype.componentDidMount=function(){},t.prototype.getVirtualElement=function(){return this.virtualElement},t.prototype.getHTMLElement=function(){var t=this.virtualElement;return t?t.getHTMLElement():null},t.prototype.forceUpdate=function(){this.virtualElement&&i.default.forceUpdate(this)},t.prototype.callComponentWillUnmount=function(){this.componentWillUnmount(),this.unmountObservedShelves(),this.virtualElement=null},t.prototype.unmountObservedShelves=function(){var t=this,e=[];s.stores.forEach((function(n){n.storeObserverDescriptors.forEach((function(r){r.component&&r.component.$key===t.$key&&(e.push(new a(n,r.path)),r.component=null)}))})),this.observedPaths=e},t.prototype.componentWillUnmount=function(){},t.$nextKey=0,t.get$Key=function(){var e=t.$nextKey;return t.$nextKey===Number.MAX_SAFE_INTEGER?t.$nextKey=0:t.$nextKey++,e},t}(),a=function(t,e){this.store=t,this.path=e};e.default=l},44:function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(982)),s=o(n(91)),l=function(){function t(){}return t.debounce=function(t,e){var n;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){t.apply(void 0,r)}),e)}},t.throttle=function(t,e){var n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n||(t.apply(void 0,r),n=!0,setTimeout((function(){n=!1}),e))}},t.mountHTMLElement=function(t,e,n){var r=document.createElement(e);return Object.keys(n||{}).forEach((function(t){if("className"===t)r.className=n[t];else if("style"===t)Object.keys(n[t]).forEach((function(t){r.style[t]=n.style[t]}));else if("function"==typeof n[t]){if(0===t.indexOf("on")){var e=t.substring(2).toLowerCase();r.addEventListener(e,(function(e){n[t](e)}))}}else r.setAttribute(t,n[t])})),t.appendChild(r),r},t.createVirtualElement=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(e=e||{},n=Array.isArray(n[0])?n[0]:n,"function"==typeof t){e=r(r({},e),{children:(e.children||[]).concat(n)});return function(t){for(;t;){if(t instanceof s.default)return!0;t=t.prototype}return!1}(t)?new t(e).createVirtualElement():t(e)}if("object"==typeof t)return t.createVirtualElement();var l=new i.default(t,e);return n&&n.forEach((function(t){null==t||!0===t||!1===t||(t instanceof i.default?l.add(t):l.add(new i.default("-text",t)))})),l},t.mountVirtualElement=function(e,n,r){if(n)n.innerHTML=t.createHTMLString(e);else if(r&&r.parentElement){var o=document.createElement(e.type);e.create$Key(),o.setAttribute("data-created-by",e.$key),Object.keys(e.props||{}).forEach((function(t){if("className"===t)o.className=e.props[t];else if("style"===t)Object.keys(e.props[t]).forEach((function(t){o.style[t]=e.props.style[t]}));else if("function"==typeof e.props[t]);else{var n=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));o.setAttribute(n,e.props[t])}})),r.parentElement.replaceChild(o,r);var i="";e.getChildren().forEach((function(e){i+=t.createHTMLString(e)})),o.innerHTML=i}},t.createHTMLString=function(e){var n=this;if(void 0===e.type){var r="";return e.getChildren().forEach((function(e){r+=t.createHTMLString(e)})),r}if("-text"===e.type)return e.props;var o="<"+e.type;e.create$Key(),o+=' data-created-by="'.concat(e.$key,'"'),Object.keys(e.props||{}).forEach((function(t){if("className"===t)o+=' class="'.concat(e.props[t],'"');else if("style"===t)o+=n.createStyleString(e.props[t]);else if("ref"===t){var r=e.props[t];o+=' data-ref="'.concat(r.$key,'"')}else if("function"==typeof e.props[t]);else if("path"===e.type){var i=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));o+=" ".concat(i,'="').concat(e.props[t],'"')}else if("rect"===e.type){i=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));o+=" ".concat(i,'="').concat(e.props[t],'"')}else o+=" ".concat(t,'="').concat(e.props[t],'"')})),o+=">";var i=void 0;return e.createdBy&&e.createdBy.innerHTML&&(i=e.createdBy.innerHTML),i?o+=i:e.getChildren().forEach((function(e){o+=t.createHTMLString(e)})),o+"</".concat(e.type,">")},t.createStyleString=function(t){if(!t)return"";var e=' style="';return Object.keys(t).forEach((function(n){e+=n.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))+":"+t[n]+";"})),e+'"'},t}();e.default=l},156:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StyleRuleAnimations=e.Network=e.stores=e.StoreObserverDescriptor=e.Store=e.ParsedURL=e.RouterLink=e.Router=e.Widget=e.Component=e.VirtualDOM=e.Device=void 0;var o=r(n(44));e.Device=o.default;var i=r(n(250));e.VirtualDOM=i.default;var s=r(n(91));e.Component=s.default;var l=r(n(110));e.Widget=l.default;var a=n(475);Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return a.Router}}),Object.defineProperty(e,"RouterLink",{enumerable:!0,get:function(){return a.RouterLink}}),Object.defineProperty(e,"ParsedURL",{enumerable:!0,get:function(){return a.ParsedURL}});var u=n(33);Object.defineProperty(e,"Store",{enumerable:!0,get:function(){return u.Store}}),Object.defineProperty(e,"StoreObserverDescriptor",{enumerable:!0,get:function(){return u.StoreObserverDescriptor}}),Object.defineProperty(e,"stores",{enumerable:!0,get:function(){return u.stores}});var c=r(n(422));e.Network=c.default;var p=r(n(898));e.StyleRuleAnimations=p.default},422:function(t,e){var n,r,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function l(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(a){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,r=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){s.label=l[1];break}if(6===l[0]&&s.label<o[1]){s.label=o[1],o=l;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(l);break}o[2]&&s.ops.pop(),s.trys.pop();continue}l=e.call(t,s)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=0;t.get$Key=function(){var t=e;return e===Number.MAX_SAFE_INTEGER?e=0:e++,t};var n=[],r=function(){function e(e){this.duration=0,this.$key=t.get$Key(),this.type=e}return e.prototype.setURL=function(t){this.url=t},e.prototype.setHeaders=function(){},e.prototype.setBody=function(t){this.body=t},e.prototype.setDuration=function(t){this.duration=t},e.prototype.fire=function(t){var e=this;if(void 0===t&&(t=!0),!this.url)return"404: Bad Request";if(("post"===this.type||"put"===this.type)&&!this.body)return"404: Bad Request";var n=new XMLHttpRequest;n.open(this.type,this.url,!0);var r=(new Date).getTime(),o=this.onComplete;if(n.onload=function(){if(o){if(t)try{e.body=JSON.parse(n.responseText)}catch(t){e.body={}}else e.body=n.responseText;e.duration?e.wait(e.duration?e.duration:0,r).then((function(){o(e.body)})):o(e.body)}},n.onerror=function(){o&&(e.duration?e.wait(e.duration?e.duration:0,r).then((function(){o(null,n.status,n.responseText)})):o(null,n.status,n.responseText))},this.body instanceof Object){n.setRequestHeader("Content-Type","application/json");try{n.send(JSON.stringify(this.body))}catch(t){n.send(null)}}if(Array.isArray(this.body)){n.setRequestHeader("Content-Type","application/json");try{n.send(JSON.stringify(this.body))}catch(t){n.send(null)}}n.send(this.body)},e.prototype.wait=function(t,e){return i(this,void 0,void 0,(function(){var n;return s(this,(function(r){return e||(e=(new Date).getTime()),n=(new Date).getTime(),Number.isInteger(t)&&t>n-e?t-=n-e:t=0,[2,new Promise((function(e){return setTimeout(e,t)}))]}))}))},e}();t.Request=r;var l=function(t){function e(){return t.call(this,"get")||this}return o(e,t),e}(r);t.Get=l;var a=function(t){function e(){return t.call(this,"post")||this}return o(e,t),e}(r);t.Post=a;!function(t){function e(){return t.call(this,"put")||this}o(e,t)}(r);t.createWebsocketConnection=function(t){var e=new u(t);return n.push(e),e};var u=function(t){function e(e){var n=t.call(this,e)||this;return n.webSocket=new WebSocket(n.endpoint),n.webSocket.onopen=n.onWebSocketOpen,n.webSocket.onclose=n.onWebSocketClose,n}return o(e,t),e.prototype.onWebSocketOpen=function(){console.log("web socket open"),this.alive=!0},e.prototype.onWebSocketClose=function(t){t.wasClean?console.log("clean close"):console.log("forced close"),this.alive=!1},e.prototype.fireWebSocketEvent=function(t,e){if(this.alive)if(this.webSocket.readyState){var n={action:t};e&&(n.payload=e),this.webSocket.send(JSON.stringify(n))}else{var r=this;setTimeout((function(){r.fireWebSocketEvent(t,e)}),100)}},e}((function(e){this.$key=t.get$Key(),this.endpoint=e,this.alive=!1}))}(r||(r={})),e.default=r},475:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParsedURL=e.RouterLink=e.Router=void 0;var l=s(n(44)),a=s(n(110)),u=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,i(["div"],n,!1))||this;e.instance=o,window.addEventListener("navigate",(function(){o.handleWindowLocationChange()})),window.addEventListener("popstate",(function(){o.handleWindowLocationChange()}));return window.addEventListener("resize",l.default.debounce((function(t){o.handleResizeEvent(t)}),500)),o}return o(e,t),e.parseURL=function(t){t=new URL(t);var e=new p;return e.href=t.href,e.protocol=t.protocol,e.username=t.username,e.password=t.password,e.host=t.host,e.hostname=t.hostname,e.port=t.port,t.pathname?(e.pathnames=t.pathname.split("/"),e.pathnames&&(e.pathnames=e.pathnames.filter((function(t){return null!=t&&t.length>0})))):e.pathnames=[],e.search=t.search,e.hash=t.hash,e.origin=t.origin,e.searchParams=t.searchParams,e},e.navigateTo=function(t,n){if(e.instance&&t&&(n&&n.preventDefault(),window.location.pathname+window.location.search!==t)){window.history.pushState({},"",t);var r=new PopStateEvent("navigate");window.dispatchEvent(r)}},e.prototype.handleWindowLocationChange=function(){},e.prototype.handleResizeEvent=function(t){},e}(a.default);e.Router=u;var c=function(t){function e(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s=t.apply(this,i(["a"],r,!1))||this;return s.props.href=e,n&&s.setInnerText(n),s.props.onClick=function(t){u.navigateTo(e,t)},s}return o(e,t),e}(a.default);e.RouterLink=c;var p=function(){};e.ParsedURL=p},33:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stores=e.StoreObserverDescriptor=e.Store=void 0;var n=function(){function t(){this.storeObserverDescriptors=[],o.push(this)}return t.prototype.startObservingPath=function(t,e){for(var n=null,o=0;o<this.storeObserverDescriptors.length;o++)if(this.storeObserverDescriptors[o].component){if(this.storeObserverDescriptors[o].component.$key===t.$key&&this.storeObserverDescriptors[o].path===e)return null}else n=this.storeObserverDescriptors[o];return n?(n.component=t,n.path=e):this.storeObserverDescriptors.push(new r(t,e)),t},t.prototype.stopObservingPath=function(t,e){this.storeObserverDescriptors.forEach((function(n){n.component&&n.component.$key===t.$key&&n.path===e&&(n.component=null)}))},t.prototype.removeObserver=function(t){for(var e=0;e<this.storeObserverDescriptors.length;)this.storeObserverDescriptors[e].component.$key===t.$key?this.storeObserverDescriptors[e].component=null:e++},t.prototype.getState=function(){return this.state},t.prototype.cloneState=function(){return Object.assign({},this.state)},t.prototype.setState=function(t,e){e||(e=[],this.storeObserverDescriptors.forEach((function(t){t.component&&t.path&&(e.includes(t.path)||e.push(t.path))})));for(var n=0;n<e.length;n++)e[n]=e[n]+".";this.storeObserverDescriptors.forEach((function(t){t.component&&e.forEach((function(e){0===e.indexOf(t.path+".")&&(t.needsUpdate=!0)}))})),this.state=t,this.forceUpdate()},t.prototype.forceUpdate=function(){for(var t,e=0;e<this.storeObserverDescriptors.length;e++)this.storeObserverDescriptors[e].component&&this.storeObserverDescriptors[e].needsUpdate&&(this.storeObserverDescriptors[e].needsUpdate=!1,null===(t=this.storeObserverDescriptors[e].component)||void 0===t||t.forceUpdate())},t}();e.Store=n;var r=function(t,e){this.needsUpdate=!1,this.component=t,this.path=e};e.StoreObserverDescriptor=r;var o=[];e.stores=o},898:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),n(621);var r=function(){function t(){}return t.fire=function(t,e){for(var n=this,r=null,i=0;i<this.animationDescriptors.length;i++)if((r=this.animationDescriptors[i]).htmlElement===t){if(r.styleRule===e.styleRule)break;r=null}else r=null;r?(r.from=e.from,r.to=e.to,r.onComplete=e.onComplete,r.startedTime=(new Date).getTime()):(r=new o(t,e.styleRule,e.from,e.to,e.duration,e.onComplete),this.animationDescriptors.push(r));var s=function(){for(var t=0,e=(new Date).getTime();t<n.animationDescriptors.length;)(r=n.animationDescriptors[t]).setCurrentStyleRuleValue(e)?(n.animationDescriptors.splice(t,1),r.onComplete&&r.onComplete()):t++;n.animationDescriptors.length>0&&requestAnimationFrame(s)};this.animationDescriptors.length>0&&requestAnimationFrame(s)},t.animationDescriptors=[],t}(),o=function(){function t(t,e,n,r,o,i){this.startedTime=0,this.htmlElement=t,this.styleRule=e,this.from=n,this.to=r,this.$value=this.from,this.duration=1e3*o,this.onComplete=i,this.startedTime=(new Date).getTime(),this.htmlElement.classList.add("-style-rule-animation")}return t.prototype.setCurrentStyleRuleValue=function(t){if("number"==typeof this.$value){if(this.duration<=0)return this.setStyleRuleValue(),this.htmlElement.classList.remove("-style-rule-animation"),!0;if(this.$value=this.from+(this.to-this.from)*((t-this.startedTime)/this.duration),this.from<this.to){if(this.$value>=this.to)return this.$value=this.to,this.setStyleRuleValue(),this.htmlElement.classList.remove("-style-rule-animation"),!0}else if(this.$value<=this.to)return this.$value=this.to,this.setStyleRuleValue(),this.htmlElement.classList.remove("-style-rule-animation"),!0;return this.setStyleRuleValue(),!1}},t.prototype.setStyleRuleValue=function(){"number"==typeof this.$value&&(this.htmlElement.style[this.styleRule]=this.$value.toString())},t}();e.default=r},250:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(44)),i=r(n(91)),s=function(){function t(){}return t.mount=function(e,n){t.rootHTMLElement=n,t.rootHTMLElement||(t.rootHTMLElement=o.default.mountHTMLElement(document.body,"div",{style:{position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden"}})),t.rootHTMLElement&&(t.rootVirtualElement&&t.passComponentWillUnmount(t.rootVirtualElement),t.rootVirtualElement=o.default.createVirtualElement(e),t.rootVirtualElement&&(t.rootHTMLElement.innerHTML="",o.default.mountVirtualElement(t.rootVirtualElement,t.rootHTMLElement),t.hydrateVirtualElement(t.rootVirtualElement),t.passComponentDidMount(t.rootVirtualElement)))},t.showModal=function(e){t.modalHTMLElement||(t.modalHTMLElement=o.default.mountHTMLElement(document.body,"div",{style:{display:"none",position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden"}})),t.modalHTMLElement&&(t.modalHTMLElement.style.display="block",t.modalVirtualElement=o.default.createVirtualElement(e),t.modalVirtualElement&&(t.modalHTMLElement.innerHTML="",o.default.mountVirtualElement(t.modalVirtualElement,t.modalHTMLElement),t.hydrateVirtualElement(t.modalVirtualElement),t.passComponentDidMount(t.modalVirtualElement)))},t.showPopup=function(e){t.modalHTMLElement||(t.modalHTMLElement=o.default.mountHTMLElement(document.body,"div",{style:{display:"none",position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden"}})),t.popupHTMLElement||(t.popupHTMLElement=o.default.mountHTMLElement(document.body,"div",{style:{display:"none",width:"100%",height:"100%",position:"fixed",overflow:"hidden"}})),t.popupHTMLElement&&(t.popupHTMLElement.style.display="block",t.popupVirtualElement=o.default.createVirtualElement(e),t.popupVirtualElement&&(t.popupHTMLElement.innerHTML="",o.default.mountVirtualElement(t.popupVirtualElement,t.popupHTMLElement),t.hydrateVirtualElement(t.popupVirtualElement),t.passComponentDidMount(t.popupVirtualElement)))},t.hydrateVirtualElement=function(e){var n=function(e){Object.keys(e.props||{}).forEach((function(n){if("ref"!==n){if("function"==typeof e.props[n]&&0===n.indexOf("on")){var r=n.substring(2).toLowerCase(),o=e.getHTMLElement();o&&o.addEventListener(r,(function(t){e.props[n](t)}))}}else t.setRef(e)})),e.getChildren().forEach((function(t){t.$parent=e,n(t)}))};n(e)},t.setRef=function(t){for(;t;)t.createdBy instanceof i.default&&Object.keys(t.createdBy).forEach((function(e){if(t.createdBy[e]instanceof l){var n=t.createdBy[e],r=document.querySelectorAll('[data-ref="'.concat(n.$key,'"]'));if(1===r.length)return void(n.current=r.item(0))}})),t=t.$parent},t.passComponentDidMount=function(t){var e=function(t){t.getChildren().forEach((function(t){e(t)})),t.createdBy&&t.createdBy instanceof i.default&&t.createdBy.callComponentDidMount()};e(t)},t.forceUpdate=function(e){e.virtualElement&&(e.virtualElement.isDirty=!0,t.dirtyVirtualElementsNumber++,1===t.dirtyVirtualElementsNumber&&setTimeout((function(){t.updateVirtualElement(t.rootVirtualElement),t.updateVirtualElement(t.modalVirtualElement),t.updateVirtualElement(t.popupVirtualElement),t.dirtyVirtualElementsNumber=0}),0))},t.updateVirtualElement=function(e){for(var n;;){var r=t.findDirties(e),i=r.dirtyParentVirtualElement,s=r.dirtyComponent;if(!s)break;if(s.virtualElement!==t.rootVirtualElement)if(s.virtualElement!==t.modalVirtualElement)if(s.virtualElement!==t.popupVirtualElement){if(i)if(i.getHTMLElement()){var l=0;for(l=0;l<i.getChildren().length;l++){if(i.getChildren()[l].$key===(null===(n=s.virtualElement)||void 0===n?void 0:n.$key))break}if(l!==i.getChildren().length){var a=s.getHTMLElement();a&&(t.passComponentWillUnmount(s.virtualElement),(e=s.createVirtualElement())&&(i.getChildren()[l]=e,o.default.mountVirtualElement(e,void 0,a),t.hydrateVirtualElement(e),t.passComponentDidMount(e)))}}}else t.popupHTMLElement&&(t.passComponentWillUnmount(s.virtualElement),t.popupHTMLElement.textContent="",t.popupVirtualElement=s.createVirtualElement(),t.popupVirtualElement&&(o.default.mountVirtualElement(t.popupVirtualElement,t.popupHTMLElement),t.hydrateVirtualElement(t.popupVirtualElement),t.passComponentDidMount(t.popupVirtualElement)));else t.modalHTMLElement&&(t.passComponentWillUnmount(s.virtualElement),t.modalHTMLElement.textContent="",t.modalVirtualElement=s.createVirtualElement(),t.modalVirtualElement&&(o.default.mountVirtualElement(t.modalVirtualElement,t.modalHTMLElement),t.hydrateVirtualElement(t.modalVirtualElement),t.passComponentDidMount(t.modalVirtualElement)));else t.rootHTMLElement&&(t.passComponentWillUnmount(s.virtualElement),t.rootHTMLElement.textContent="",t.rootVirtualElement=s.createVirtualElement(),t.rootVirtualElement&&(o.default.mountVirtualElement(t.rootVirtualElement,t.rootHTMLElement),t.hydrateVirtualElement(t.rootVirtualElement),t.passComponentDidMount(t.rootVirtualElement)))}},t.findDirties=function(t){if(!t)return{dirtyParentVirtualElement:null,dirtyComponent:null};var e=null,n=null,r=function(t){if(!n)if(t.isDirty&&(t.isDirty=!1,t.createdBy&&t.createdBy instanceof i.default))n=t.createdBy;else for(var o=0;o<t.getChildren().length;o++){var s=t.getChildren()[o];if(r(s),n)return void(e||(e=t))}};return r(t),{dirtyParentVirtualElement:e,dirtyComponent:n}},t.passComponentWillUnmount=function(t){var e=function(t){t&&(t.createdBy instanceof i.default&&t.createdBy.callComponentWillUnmount(),t.getChildren().forEach((function(t){e(t)})),t.children=void 0)};e(t)},t.hideModal=function(){t.modalVirtualElement&&t.passComponentWillUnmount(t.modalVirtualElement),t.modalHTMLElement&&(t.modalHTMLElement.innerHTML="",t.modalHTMLElement.style.display="none")},t.hidePopup=function(){t.popupVirtualElement&&t.passComponentWillUnmount(t.popupVirtualElement),t.popupHTMLElement&&(t.popupHTMLElement.innerHTML="",t.popupHTMLElement.style.display="none")},t.createRef=function(){return new l},t.rootHTMLElement=null,t.rootVirtualElement=null,t.modalHTMLElement=null,t.modalVirtualElement=null,t.popupHTMLElement=null,t.popupVirtualElement=null,t.dirtyVirtualElementsNumber=0,t}(),l=function(){function t(){this.$key=t.get$Key()}return t.$nextKey=0,t.get$Key=function(){var e=t.$nextKey;return t.$nextKey===Number.MAX_SAFE_INTEGER?t.$nextKey=0:t.$nextKey++,e},t}();e.default=s},982:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.children=void 0,this.$key="",this.isDirty=!1,this.type=t,this.props=e||{},this.createdBy=t}return t.prototype.getChildren=function(){return this.children?this.children:[]},t.prototype.add=function(t){this.children?this.children.push(t):this.children=[t]},t.prototype.create$Key=function(){this.createdBy?this.createdBy.$key?this.$key=this.createdBy.$key:this.$key=this.createdBy+"-"+t.get$Key():this.$key="virtual-element-"+t.get$Key()},t.get$Key=function(){var e=t.$nextKey;return t.$nextKey===Number.MAX_SAFE_INTEGER?t.$nextKey=0:t.$nextKey++,e},t.prototype.getHTMLElement=function(){var t=document.querySelectorAll('[data-created-by="'.concat(this.$key,'"]'));return 1!==t.length?null:t.item(0)},t.$nextKey=0,t}();e.default=n},110:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(91)),l=i(n(982)),a=function(t){function e(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=t.call(this)||this;return i.classNames=[],i.innerHTML=void 0,i.textToHTML=function(t){return t=(t=(t=(t=(t=(t=t.toString()).replace(/&/g,"&amp;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#039;")},i.type=n,"string"==typeof r[0]?i.addClassName(r[0]):r[0]instanceof e?r[0].add(i):"object"==typeof r[0]&&(i.props=Object.assign({},r[0])),"string"==typeof r[1]?i.addClassName(r[1]):r[1]instanceof e?r[1].add(i):"object"==typeof r[1]&&(i.props=Object.assign({},r[1])),"string"==typeof r[2]?i.addClassName(r[2]):r[2]instanceof e?r[2].add(i):"object"==typeof r[2]&&(i.props=Object.assign({},r[2])),i.props=i.props||{},i}return o(e,t),e.prototype.getClassName=function(){return this.classNames.join(" ")},e.prototype.hasClassName=function(t){return!!this.classNames&&this.classNames.includes(t)},e.prototype.addClassName=function(t){var e=this;return t.split(" ").forEach((function(t){-1===e.classNames.indexOf(t)&&e.classNames.push(t)})),this.getHTMLElement()&&this.getHTMLElement().classList.add(t),this},e.prototype.removeClassName=function(t){var e,n=this;return t.split(" ").forEach((function(t){var e=n.classNames.indexOf(t);e>=0&&n.classNames.splice(e,1)})),this.getHTMLElement()&&(null===(e=this.getHTMLElement())||void 0===e||e.classList.remove(t)),this},e.prototype.toggleClassName=function(t){var e=this;return t.split(" ").forEach((function(t){var n=e.classNames.indexOf(t);n>=0?e.classNames.splice(n,1):e.classNames.push(t)})),this.getHTMLElement()&&(this.getHTMLElement().className=this.getClassName()),this},e.prototype.resetClassName=function(){return this.classNames=[],this},e.prototype.setProp=function(t,e){var n;return this.props=this.props||{},this.props[t]=e,null===(n=this.getHTMLElement())||void 0===n||n.setAttribute(t,e),this},e.prototype.getStyle=function(){return this.props&&this.props.style||{}},e.prototype.setStyle=function(t){var e=this;this.props.style=t;var n=this.getHTMLElement();return n&&Object.keys(this.props.style).forEach((function(t){n.style[t]=e.props.style[t]})),this},e.prototype.getStyleRule=function(t){return this.props&&this.props.style?this.props.style[t]:null},e.prototype.setStyleRule=function(t,e){return this.props.style=this.props.style||{},this.props.style[t]=e,this.getHTMLElement()&&(this.getHTMLElement().style[t]=e),this},e.prototype.setInnerText=function(t){this.setInnerHTML(this.textToHTML(t))},e.prototype.setInnerHTML=function(t){var e;this.innerHTML=t;var n=null===(e=this.virtualElement)||void 0===e?void 0:e.getHTMLElement();n&&(n.innerHTML=this.innerHTML)},e.prototype.getChildren=function(){return this.children?this.children:[]},e.prototype.add=function(t){return this.children?this.children.push(t):this.children=[t],t},e.prototype.removeAll=function(){this.children=void 0},e.prototype.createVirtualElement=function(){this.build&&(this.removeAll(),this.build()),this.virtualElement=new l.default(this.type,this.props||{}),this.virtualElement.createdBy=this;var t=this.getClassName();return t&&(this.virtualElement.props.className=t),this.addVirtualElements(this.virtualElement),this.virtualElement},e.prototype.addVirtualElements=function(t){var e=this;this.getChildren().forEach((function(n){e.addVirtualElement(t,n)}))},e.prototype.addVirtualElement=function(t,n){n instanceof l.default?t.add(n):(n instanceof s.default||n instanceof e)&&(n=n.createVirtualElement(),t.add(n))},e}(s.default);e.default=a}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}return n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(156)})()));